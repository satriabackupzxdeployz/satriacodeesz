<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SatriaCodeShare - Berbagi Kode & Proyek</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="like-notification" id="likeNotification">
        <i class="fas fa-heart"></i> Postingan disukai!
    </div>

    <div class="container">
        <div class="header">
            <div class="status-badge">
                <span>SATRIACODESHARE • BERBAGI KODE & PROYEK</span>
            </div>
            <h1>SATRIACODESHARE</h1>
            <p>Platform berbagi kode, project, dan file programming • 100% Gratis</p>
        </div>

        <div class="main-nav">
            <button class="nav-btn active" data-section="browse">
                <i class="fas fa-newspaper"></i> Beranda
            </button>
            <button class="nav-btn" data-section="admin">
                <i class="fas fa-user-shield"></i> Admin Panel
            </button>
        </div>

        <div class="section active" id="browseSection">
            <div class="posts-timeline" id="postsTimeline"></div>
            <div class="empty-state" id="emptyState" style="display: none;">
                <i class="fas fa-code"></i>
                <h3>Tidak ada postingan</h3>
                <p>Login sebagai admin untuk membuat postingan pertama!</p>
            </div>
        </div>

        <div class="section" id="adminSection">
            <div class="admin-access" id="adminAccessDiv">
                <div class="card">
                    <h2 style="font-size: 1.8rem; margin-bottom: 15px; color: var(--accent);">
                        <i class="fas fa-user-shield"></i> LOGIN ADMIN
                    </h2>
                    <p style="margin-bottom: 15px; text-align: center;">Masukkan kunci admin untuk mengakses panel</p>
                    <input type="password" class="admin-key-input" id="adminKeyInput" placeholder="Masukkan kunci admin">
                    <button class="btn btn-primary" id="adminAccessBtn" style="width: 100%; padding: 12px;">
                        <i class="fas fa-unlock"></i> LOGIN
                    </button>
                </div>
            </div>

            <div class="admin-panel" id="adminPanel" style="display: none;">
                <div class="card">
                    <h2 style="font-size: 1.8rem; margin-bottom: 25px; color: var(--accent);">
                        <i class="fas fa-plus-circle"></i> BUAT POSTINGAN BARU
                    </h2>

                    <div class="form-group">
                        <label for="postTitle"><i class="fas fa-heading"></i> JUDUL POSTINGAN</label>
                        <input type="text" id="postTitle" class="form-control" placeholder="Contoh: Cara Membuat API dengan Express.js">
                    </div>

                    <div class="form-group">
                        <label for="postDescription"><i class="fas fa-align-left"></i> DESKRIPSI</label>
                        <textarea id="postDescription" class="form-control" rows="3" placeholder="Jelaskan tentang kode/project ini..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="postAuthor"><i class="fas fa-user"></i> NAMA PENULIS</label>
                        <input type="text" id="postAuthor" class="form-control" placeholder="Nama Anda" value="Admin">
                    </div>

                    <div class="form-group">
                        <label for="postLanguage"><i class="fas fa-code"></i> BAHASA PEMROGRAMAN</label>
                        <select id="postLanguage" class="form-control">
                            <option value="javascript">JavaScript</option>
                            <option value="python">Python</option>
                            <option value="java">Java</option>
                            <option value="php">PHP</option>
                            <option value="html">HTML/CSS</option>
                            <option value="cpp">C++</option>
                            <option value="csharp">C#</option>
                            <option value="other">Lainnya</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="postTags"><i class="fas fa-tags"></i> TAGS (pisahkan dengan koma)</label>
                        <input type="text" id="postTags" class="form-control" placeholder="api, backend, nodejs, express">
                    </div>

                    <div class="form-group">
                        <label for="postCode"><i class="fas fa-file-code"></i> KODE</label>
                        <textarea id="postCode" class="code-editor" placeholder="Tempelkan kode Anda di sini..."></textarea>
                    </div>

                    <div class="btn-group" style="display: flex; gap: 15px;">
                        <button class="btn btn-secondary" id="previewPostBtn" style="flex: 1;">
                            <i class="fas fa-eye"></i> PREVIEW
                        </button>
                        <button class="btn btn-primary" id="publishPostBtn" style="flex: 2;">
                            <i class="fas fa-paper-plane"></i> PUBLISH POSTINGAN
                        </button>
                    </div>
                </div>

                <div class="card">
                    <h2 style="font-size: 1.8rem; margin-bottom: 25px; color: var(--accent);">
                        <i class="fas fa-cogs"></i> MANAGE POSTINGAN
                    </h2>

                    <div class="form-group">
                        <label><i class="fas fa-database"></i> POSTINGAN TERBIT</label>
                        <div id="adminPostsList" style="border: 3px solid var(--border-color); padding: 15px; max-height: 400px; overflow-y: auto;">
                            <p style="text-align: center; color: var(--text-muted);">Belum ada postingan</p>
                        </div>
                    </div>

                    <div style="display: flex; gap: 10px; margin-top: 20px; flex-wrap: wrap;">
                        <button class="btn btn-danger" id="clearAllPostsBtn">
                            <i class="fas fa-trash"></i> HAPUS SEMUA
                        </button>
                        <button class="btn btn-secondary" id="exportPostsBtn">
                            <i class="fas fa-download"></i> EXPORT DATA
                        </button>
                        <button class="btn btn-success" id="refreshAdminBtn">
                            <i class="fas fa-sync"></i> REFRESH
                        </button>
                    </div>
                </div>

                <button class="btn btn-danger" id="logoutBtn" style="width: 100%;">
                    <i class="fas fa-sign-out-alt"></i> LOGOUT
                </button>
            </div>
        </div>

        <div class="alert" id="alertMessage"></div>

        <div class="footer">
            <p>© 2024 SatriaCodeShare - Platform Berbagi Kode & Project</p>
            <p class="footer-links">
                <a href="#"><i class="fas fa-question-circle"></i> Bantuan</a>
                <a href="#"><i class="fas fa-user-shield"></i> Privasi</a>
                <a href="#"><i class="fas fa-file-contract"></i> Syarat</a>
            </p>
        </div>
    </div>

    <div class="project-modal" id="postModal">
        <div class="modal-content">
            <div class="modal-close" id="modalClose">&times;</div>
            
            <div class="modal-header">
                <h1 class="modal-title" id="modalPostTitle">Post Title</h1>
                <div style="display: flex; gap: 12px; align-items: center; flex-wrap: wrap; margin-top: 10px;">
                    <span class="post-language" id="modalPostLanguage">JavaScript</span>
                    <span style="color: var(--text-muted); font-size: 0.85rem;">
                        <i class="fas fa-user"></i> <span id="modalPostAuthor">Admin</span>
                    </span>
                    <span style="color: var(--text-muted); font-size: 0.85rem;">
                        <i class="fas fa-clock"></i> <span id="modalPostTime">Baru saja</span>
                    </span>
                    <span style="color: var(--text-muted); font-size: 0.85rem;">
                        <i class="fas fa-eye"></i> <span id="modalViews">0</span> views
                    </span>
                </div>
            </div>

            <div id="modalPostDescription" style="font-size: 1rem; line-height: 1.5; margin-bottom: 20px;"></div>

            <div id="modalPostTags" style="margin-bottom: 15px;"></div>

            <div class="modal-code" id="modalPostCode"></div>

            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 25px; flex-wrap: wrap; gap: 15px;">
                <div class="post-stats" style="border: none; padding: 0; display: flex; gap: 20px;">
                    <div class="stat-item">
                        <i class="fas fa-heart"></i>
                        <span id="modalLikes">0</span> likes
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-download"></i>
                        <span id="modalDownloads">0</span> downloads
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-comment"></i>
                        <span id="modalCommentsCount">0</span> comments
                    </div>
                </div>

                <div class="modal-actions">
                    <button class="btn btn-like" id="modalLikeBtn">
                        <i class="fas fa-heart"></i> LIKE
                    </button>
                    <button class="btn btn-primary" id="modalDownloadBtn">
                        <i class="fas fa-download"></i> DOWNLOAD
                    </button>
                    <button class="btn btn-secondary" id="modalCopyBtn">
                        <i class="fas fa-copy"></i> SALIN KODE
                    </button>
                </div>
            </div>

            <div class="comments-section" id="commentsSection">
                <div class="comments-title">
                    <i class="fas fa-comments"></i> KOMENTAR (<span id="commentsCount">0</span>)
                </div>
                
                <div class="comments-list" id="commentsList"></div>

                <div class="comment-form">
                    <input type="text" class="comment-input" id="commentAuthor" placeholder="Nama Anda" maxlength="50">
                    <input type="text" class="comment-input" id="commentText" placeholder="Tulis komentar..." maxlength="500">
                    <button class="btn btn-primary" id="submitCommentBtn">
                        <i class="fas fa-paper-plane"></i> KIRIM
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/app.js"></script>
</body>
</html>